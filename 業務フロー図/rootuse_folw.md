```
@startuml

ユーザー -> webサーバー : ルート表示の操作
webサーバー -> DBサーバー : ルート取得要求
DBサーバー --> webサーバー : ルート送信
webサーバー --> ユーザー : ルート表示

opt チェックポイント到着時
ユーザー -> webサーバー : 写真送信
webサーバー -> DBサーバー : 写真保存and位置情報確認要求
DBサーバー -> DBサーバー : 位置情報とチェックポイントの一致確認

alt 不一致の場合
DBサーバー -> webサーバー : 確認結果（不一致）の送信
webサーバー -> ユーザー : 不一致警告ポップアップの表示

else 一致した場合
DBサーバー -> DBサーバー : 写真の保存
DBサーバー -> webサーバー : 確認結果（一致）の送信
webサーバー-> ユーザー : 一致確認ポップアップand実際に通ったルートの確認ポップアップ

alt ルート不一致の場合
webサーバー -> ユーザー : 入力受付マップの表示
ユーザー -> webサーバー : 実際のルートの入力
webサーバー -> DBサーバー : 修正ルートの送信
DBサーバー -> DBサーバー : 修正ルートの保存
DBサーバー -> webサーバー : 次のチェックポイントの送信
webサーバー -> ユーザー : 次のチェックポイントのハイライト表示

else ルート一致の場合
webサーバー -> ユーザー : 次のチェックポイントのハイライト表示
end
end

opt 走行を中断する場合
ユーザー -> webサーバー : 中断ボタンの選択
webサーバー -> DBサーバー : 直前までのチェックポイントandルートの送信
DBサーバー --> DBサーバー : チェックポイントand ルートの保存

opt 目的地到着時
ユーザー -> webサーバー : 写真送信
webサーバー -> DBサーバー : 写真保存and位置情報確認要求
DBサーバー -> DBサーバー : 位置情報と目的地の一致確認
DBサーバー -> DBサーバー : 終了結果（入手ポイント等）の保存
DBサーバー -> webサーバー : 走行結果の送信
webサーバー -> ユーザー:走行結果、走行詳細の表示
end

@enduml
```
